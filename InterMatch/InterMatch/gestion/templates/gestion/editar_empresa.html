{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Editar Empresa</title>
  <style>
    :root{
      --bg:#222A59; --panel:#1A2042; --accent:#EB7DBF;
      --ink:#fff; --muted:#cfd3ff; --field:#0f1330;
    }
    body{ background-color:var(--bg); color:var(--ink); font-family:'Thin Thin italic',sans-serif; margin:0; }
    header{ background-color:var(--panel); padding:20px; text-align:center; }
    header h1{ font-family:'Black Black italic',sans-serif; color:var(--accent); margin:0; }

    .panel-container{ display:flex; min-height:100vh; }
    .sidebar{
      width:260px; background-color:var(--panel); padding:20px;
      display:flex; flex-direction:column; gap:12px; position:sticky; top:0; height:100vh;
    }
    .sidebar a{
      color:var(--ink); text-decoration:none; font-size:1.05rem;
      padding:10px 12px; border-radius:10px; transition:.25s; display:block;
    }
    .sidebar a:hover{ background:var(--accent); color:var(--bg); font-weight:700; }

    .content{ flex:1; padding:40px; }

    .form-section{
      background-color:var(--panel);
      border:1px solid rgba(255,255,255,.08);
      border-radius:16px;
      padding:22px;
    }
    h2{ font-family:'Black Black italic',sans-serif; color:var(--accent); margin:0 0 12px 0; }

    .form-row{ display:grid; grid-template-columns: repeat(auto-fit, minmax(260px,1fr)); gap:16px; }
    label{ color:#fff; font-weight:700; display:block; margin-bottom:6px; }
    input[type="text"], input[type="url"], input[type="number"], input[type="file"], textarea, select{
      background-color:var(--field); color:#fff;
      border:1px solid rgba(235,125,191,.4);
      border-radius:10px; padding:10px; width:100%;
    }
    textarea{ min-height:120px; resize:vertical; }
    input:focus, textarea:focus, select:focus{
      outline:none; box-shadow:0 0 0 3px rgba(235,125,191,.35);
    }

    .actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top:16px; }
    .btn{ display:inline-block; text-decoration:none; padding:10px 16px; border-radius:10px; font-weight:700; cursor:pointer; }
    .btn-primary{ background:var(--accent); color:#fff; border:none; }
    .btn-primary:hover{ filter:brightness(1.08); }
    .btn-ghost{ border:1px solid rgba(255,255,255,.25); color:#fff; background:transparent; }
    .btn-ghost:hover{ background:rgba(255,255,255,.06); }

    .help{ color:var(--muted); font-size:.9rem; margin-top:6px; }
  </style>
</head>
<body>

<header>
  <h1>Editar Empresa</h1>
</header>

<div class="panel-container">
  <nav class="sidebar">
    <a href="{% url 'ver_perfil_empresa' %}">Ver perfil</a>
    <a href="{% url 'editar_empresa' %}">Editar datos</a>
    <a href="{% url 'importadores_disponibles' %}">Importadores Disponibles</a>
    <a href="{% url 'cerrar_sesion' %}">Cerrar sesión</a>
  </nav>

  <main class="content">
    <section class="form-section">
      <h2>Editar datos de la empresa</h2>

      <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <div class="form-row">
          <div>
            <label for="telefono">Teléfono</label>
            <input type="text" id="telefono" name="telefono"
                   value="{{ empresa.telefono }}"
                   placeholder="+54 383 xxxx xxxx" pattern="^\+?[0-9\s-]{7,20}$"
                   title="Solo números, espacios o guiones.">
          </div>

          <div>
            <label for="capacidad_productiva">Capacidad productiva mensual</label>
            <input type="number" id="capacidad_productiva" name="capacidad_productiva"
                   value="{{ empresa.capacidad_productiva }}" min="0" step="1"
                   placeholder="Ej: 10000">
          </div>

          <div>
            <label for="sitio_web">Sitio web</label>
            <input type="url" id="sitio_web" name="sitio_web"
                   value="{{ empresa.sitio_web }}" placeholder="https://tuempresa.com"
                   pattern="https?://.+" title="Debe comenzar con http:// o https://">
          </div>

          <div>
            <label for="brochure">Brochure (PDF)</label>
            <input type="file" id="brochure" name="brochure" accept="application/pdf">
            {% if empresa.brochure %}
              <div class="help">Actual: <a href="{{ empresa.brochure.url }}" target="_blank" rel="noopener">ver brochure</a></div>
            {% endif %}
          </div>

          <div style="grid-column:1/-1">
            <label for="comentarios">Comentarios</label>
            <textarea id="comentarios" name="comentarios" placeholder="Notas internas, info adicional…">{{ empresa.comentarios }}</textarea>
          </div>
        </div>

        <div class="actions">
          <button type="submit" class="btn btn-primary">Guardar cambios</button>
          <a href="{% url 'ver_perfil_empresa' %}" class="btn btn-ghost">Cancelar</a>
        </div>
      </form>
    </section>
  </main>
</div>

</body>
</html>